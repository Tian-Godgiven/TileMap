我有以下几个选择：tile的id与画布挂钩，每个tile的id都取决于画布的id？不行！画布在载入的时候会重新分配ID，此时tile的id该怎么办？

重新生成一个Huabu，里面的tile也重新生成一遍？这个是最好的！重新生成的过程也可以修改其中tile的id！

↑我要如何保证新的tile各方面都和旧的tile一样？

clone可以把旧的tile的内容记录下来吗？这样的话我还需要吧tile_text存储在画布或者Tile中

存储在tile中应该是最好的！这样的话我可以在clone tile的时候顺便clone他的tile_text，后者应该是和tile直接相连，而不是和huabu直接相连的！

我可以先clone tile，然后修改其id，接着clone他的tile_text

那么首先我就需要获得huabu中的一切tile了！

理一下：在clone画布时，我要先遍历old画布的所有Tile，对其进行一个

我可以把clone画布做成一个加载画布，old画布就是被加载的对象！

加载画布时，我首先要生成一个新的画布，为其分配id，然后遍历Old画布中的Tile，将其一一clone,然后append到New画布上，这个clone过程就是生成新的tile！不是完全的clone，我可以将其各种信息clone下来，然后（修改其ID？）我觉得不好，应该就是生成一个新的tile，*只是位置啊，大小啊，内容什么的和之前一样*，要怎么做到呢？

我所生成的**画布对象**是什么样的？我的意思是这个画布会被保存为什么样的？我可以导出h5格式的画布吗？我需要导出h5格式 的画布！我最后文件中的画布也应该是h5格式的！

应该有数种文件：

只有内容，没有功能的h5，上面的tile甚至不能移动，只有简单的点击显示内容的功能
生成文件时还可以选择一些功能附加上去！比如可以移动Tile，可以编辑tile里的内容，但是这些都只是画布长相，他是不具备例如新增tile等功能的，相当于就是没有左侧和上方功能栏
接着就是完整的文件，这个文件可以放进软件中加载，生成完整的画布，也可以和软件体对接，能够直接在软件内使用！

有三种可能性：

纯数字→加px
带有%→计算得到比例后加px
带有px→直接用？先去掉px吧！

是“A” and “A”的后代中不包含“tile_input”的情况下→选择器根本办不到！
只要没有达成某个条件，我就不让他结束？

说白了，tile_text就是一坨h5代码块，在要用的地方把它显示出来，完全可以变成一个属性（？）对象，放在属性里的话，会不会太难看了？

是否应该给磁贴内容的修改做一个撤销？
	我觉得还是不做吧？感觉用处不是很大，毕竟随时都可以修改内容，但是许多	word编辑文档都有这方面的撤销，但是不同磁贴的text内容也不一样，contenteditable自带的撤销似乎也算够用？那还是不做了！

自定义分区一定是要做的！但是如果自定义分区和记忆面包完全一样，值得吗？
值得！轻度用户可以使用记忆面包完成大部分功能，而自定义则是为深入使用提供的！

任何时候的degree都是相对与deg = 0 的时候的！
当degree改变了（位置移动了），再次改变的degree仍然是相对与deg = 0的时候的！

给DOT一个Connected属性，这个属性就是当dot移动时，线条连接的两个点
对于端点，这个点是跳过一个inner后的下一个dot
对于inner点，这个属性是两边各跳过一个Inner后的下一个dot的点！

箭头错位，midway错位，其他姑且算是良好的！

我能通过一个字典来找到这个对象所链接的其他对象

如果他已经是某一个线段中的Inner了，那么就不再进行任何地角度判断

首先：当鼠标移动进去时，令helper与点圆心所重合，并且鼠标在其中移动时helper不会跟随
随后：若鼠标在其中松开，则将其固定在这个位置上
			若鼠标移出这个点，则令helper移动到鼠标的位置上，并且继续drag

也就是说，当Over时，helper的位置修改为snap_dot的圆心，令drag事件return 0 
若drop，则在这个位置上固定
若out，则令help移动到鼠标的位置上，令drag事件继续

如果他已经绑定了一个元素old，那么当他绑定新的元素new时，如果满足了新的元素new的优先级更好，那么就要先解除原有的绑定，再绑定到new上去！

不是连线函数的问题，能够正常连接到line_dot的中点
不是snap_dot中点的问题，位置是正确的
不是移动后中点的问题，位置也是正确的
目前看来，问题出在将ui.draggable移动到点位后，使用函数将其连线有关，是否是dot的点位发生了变化？

错位了！连接途中发生了什么变化？

只有一种办法可以解决……那就是把line_inner塞进一个空的div里面

求到原点的位置→求到偏移量→求到偏移后的位置→这个位置与pageX,Y的距离→用角度来换算→left和top的值

怎么获取不对旋转后的元素的offsetttttttttttttttttttttttttttttttttttttttttttttttttttta !

现在唯一的办法就是把它放进一个wrapper里面？？？

去掉了clickoffset后移动的位置总是右上角的位置，如果把这个位置改成center的位置是不是就可以了？



<svg width="56" height="56" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="56" height="56" patternUnits="userSpaceOnUse"><path d="M 0 14 L 56 14 M 14 0 L 14 56 M 0 28 L 56 28 M 28 0 L 28 56 M 0 42 L 56 42 M 42 0 L 42 56" fill="none" stroke="#d0d0d0" opacity="0.2" stroke-width="1"/><path d="M 56 0 L 0 0 0 56" fill="none" stroke="#d0d0d0" stroke-width="1"/></pattern></defs><rect width="100%" height="100%" fill="url(#grid)"/></svg>







理一下顺序啊，比较发麻烦的几个点：

1.线条对象

2.组合体对象

3.磁贴种类库→9
我要怎么实现多种不同的默认磁贴的样式？
1.使用css实现：简单快捷
2.使用js实现：可以用在一些特殊地方例如text和image
3.通过左侧实现，保存进去然后导出为lib
4.lib是一个json文件，保存有不同的css设置，

4.复制粘贴→3

5.左边的菜单→3

6.画布菜单→4,8,2,3

7.磁贴菜单→8

8.撤销重做→10

9.磁贴形状

10.所有操作完成
